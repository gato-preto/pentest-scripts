#!/bin/bash
 
#################################################################
#   Repositorio:    Pentest Scrpts                              #
#   Nome:           HTML Scan                                   #
#   Descrição:      Realiza scan no HTML                        #
#   Autor:          Carine Constantino                          #
#   Versão:         1.0                                         #
#   Data:           07/01/2020                                  #                                      
#   Função:         Ferramenta para fazer scan no código HTML   #  
#                   e encontrar links, diretórios e scripts     #
#                   escondidos no código HTML.                  #
#                                                               #
#################################################################

if [ "$1" == "" ]
then
	echo "HTML Scan"
	echo "Informe a URL para executar o Scan"
	echo "Exemplo: $0 http://exemplo.com"

else
	echo "***************************************************************************************"
	echo "URL: $1"
	rm -rf teste
	mkdir teste && cd teste/ && wget $1 2> /dev/null
        cat index.html | grep "http" | cut -d "/" -f 3 | cut -d '"' -f 1 | grep -v "li" | grep -v ">" | grep -v "form"  | sort -u >  log.txt
	rm index.html
	echo "***************************************************************************************"
	echo "Endpoints Localizados no HTML:"
	echo " "
        cat log.txt
	echo "***************************************************************************************"
	echo "Endereço IP dos servidores:"
	echo ""
	for url in $(cat log.txt); do host $url; done | cut -d "" -f 3 | sed 's/has/--/'
	echo " "	
	echo "***************************************************************************************"
	rm log.txt		

fi
